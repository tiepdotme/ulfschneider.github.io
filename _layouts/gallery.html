---
layout: image
---
<style>
    .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        grid-auto-flow: dense;
        grid-column-gap: var(--space);
        grid-row-gap: var(--space-2);
        align-items: flex-end;
        margin-bottom: var(--space-2);
    }

    .gallery img {
        vertical-align: bottom;
    }

    .gallery article:nth-child(31n + 1) {
        grid-column: 1 / -1;
    }

    .gallery article:nth-child(16n + 2) {
        grid-column: -3 / -1;
    }

    .gallery article:nth-child(16n + 10) {
        grid-column: 1 / -2;
    }

    @media (max-width: 400px) {
        .gallery {
            display: flex;
            flex-direction: column;
        }
    }
</style>
{{ content }}

<div class="gallery mrt-2">

    <!-- posts -->

    {% for category in page.categories %}
    {% for p in site.posts %}
    {% if p.categories contains category %}
    {% assign foundImage = 0 %}
    {% assign images = p.content | split:"<img " %}
    {% for image in images %}
    {% if image contains "src" %}
    {% if foundImage == 0 %}
    {% assign html = image | split:"/>" | first %}
    {% assign htmlTags = html | split:" " %}
    {% for htmlTag in htmlTags %}
    {% if htmlTag contains "src" %}

    <article>
        <a class="no-deco" href="{{p.url}}">
            <img class="fit-cover width-100 loading=" lazy" {{ htmlTag }} />
        </a>
    </article>

    {% endif %}
    {% endfor %}
    {% assign foundImage = 1 %}
    {% endif %}
    {% endif %}
    {% endfor %}

    {% endif %}
    {% endfor %}
    {% endfor %}

</div>