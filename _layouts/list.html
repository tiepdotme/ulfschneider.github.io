---
layout: default
---
{{ content }}
<div class="article-list mry-1">

    <!-- posts -->
    {% assign count = 0 %}
    {% assign siteYear = site.time | date: '%Y' %}
    {% assign indexYear = siteYear %}

    {% assign pageMeta = "" | split: ""%}
    {% assign pageMeta = pageMeta | push: page.tags %}
    {% assign pageMeta = pageMeta | push: page.categories %}
    {% assign pageMeta = pageMeta | uniq %}

    {% for meta in pageMeta %}
    
    {% for p in site.posts %}
    {% assign pageYear = p.date | date: '%Y' %}

    {% if p.tags contains meta or p.categories contains meta %}
    {% assign count = count | plus: 1 %}

    {% if p.layout == "blank" %}
    {% assign target = "" %}
    {% endif %}

    {% if p.forward %}
    {% assign href = p.forward %}
    {% else %}
    {% assign href = p.url | prepend: site.baseurl  %}
    {% endif %}

    {% if indexYear != pageYear %}
    <div class="mrt-2 mrb-1 fs-3 meta fw-200">
        {{pageYear}}
        {% assign indexYear = pageYear %}
    </div>
    {% endif %}

    <article class="mry-1">
        <h2 class="mry-0"><a target="{{target}}" href="{{href}}" class="no-deco black">{{ p.title }}</a></h2>
        {% assign strippedAuthor = p.author | strip %}
        {% if strippedAuthor.size > 0 %}
        <aside>
            <span class="meta">
                by {{ p.author }}
            </span>
            {% unless page.nodate or p.nodate %}            
            <span class="meta">•</span>            
            <span class="meta">{{ p.date | date: '%B %e, %Y' }}</span>
            {% endunless %}
        </aside>
        {% endif %}

        <p>
            {% if p.abstract %}
            {{ p.abstract }}
            {% else %}
            {{ p.content | truncatewords:25, " …" | strip_html }}
            {% endif %}
        </p>


        
        {% if strippedAuthor.size == 0 %}
        {% unless page.nodate %}
        {% unless p.nodate %}
        <aside class="no-wrap meta">
            {{ p.date | date: '%B %e, %Y' }}
        </aside>
        {% endunless %}
        {% endunless %}
        {% endif %}

    </article>
    
    {% endif %}
    {% endfor %}
    {% endfor %}

</div>