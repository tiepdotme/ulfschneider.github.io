---
layout: default
---
{{ content }}
<div class="article-list">
 
    <!-- posts -->
    {% assign count = 0 %}
    {% assign siteYear = site.time | date: '%Y' %}
    {% assign indexYear = siteYear %}

    {% for p in site.posts %}
    {% assign pageYear = p.date | date: '%Y' %}
    {% unless p.nonav %}
    {% if p.category contains page.category %}
    {% assign count = count | plus: 1 %}

    {% if p.layout == "blank" %}
    {% assign target = "" %}
    {% endif %}

    {% if p.forward %}
    {% assign href = p.forward %}
    {% else %}
    {% assign href = p.url | prepend: site.baseurl  %}
    {% endif %}

    {% assign articleStyle = "mrt-1 mrb-0" %}
    {% assign strippedContent = content | strip %}
    {% if strippedContent.size <= 1 and count == 1 %}
    {% assign articleStyle = "mry-0" %}
    {% endif %}

    {% if indexYear != pageYear %}
    <div class="mrt-3 mrb-1 fs-3 neutral-d1 fw-200">
        {{pageYear}}
        {% assign indexYear = pageYear %}
    </div>
    {% endif %}

    <article class="{{articleStyle}}">
        <h2 class="mry-0"><a target="{{target}}" href="{{href}}" class="no-deco black">{{ p.title }}</a></h2>

        {% if p.author %}
        <aside>
            <span class="neutral-d1 small">
                by {{ p.author }}
            </span>
            {% unless page.nodate %}

            {% unless p.nodate %}
            {% if p.author %}
            <span class="neutral-d1 small">•</span>
            {% endif %}
            <span class="neutral-d1 small">{{ p.date | date: '%B %e, %Y' }}</span>
            {% endunless %}

            {% endunless %}

        </aside>
        {% endif %}

        <p>
            {% if p.abstract %}
            {{ p.abstract }}
            {% else %}
            {{ p.content | truncatewords:50 | strip_html }}
            {% capture words %}
            {{ page.content | number_of_words | minus: 50 }}
            {% endcapture %}
            {% unless words contains "-" %}…{% endunless %}
            {% endif %}
        </p>


        {% assign strippedAuthor = p.author | strip %}
        {% if strippedAuthor.size == 0 %}
        {% unless page.nodate %}
        {% unless p.nodate %}

        <aside class="no-wrap neutral-d1 small">
            {{ p.date | date: '%B %e, %Y' }}
        </aside>

        {% endunless %}
        {% endunless %}
        {% endif %}

    </article>

    {% endif %}

    {% endunless %}
    {% endfor %}

</div>