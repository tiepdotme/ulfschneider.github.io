---
layout: default
---

{{ content }}

<!-- posts -->
{% assign count = 0 %}
{% assign siteYear = site.time | date: '%Y' %}
{% assign indexYear = siteYear %}

{% assign pageMeta = "" | split: ""%}
{% assign pageMeta = pageMeta | push: page.tags %}
{% assign pageMeta = pageMeta | push: page.categories %}
{% assign pageMeta = pageMeta | compact | uniq %}
{% if pageMeta.size == 0 %}
{% assign pageMeta = pageMeta | push: "." %}
{% endif %}

{% for p in site.posts %}
{% for meta in pageMeta %}
{% assign pageYear = p.date | date: '%Y' %}

{% if p.tags contains meta or p.categories contains meta %}
{% assign count = count | plus: 1 %}

{% if p.layout == "blank" %}
{% assign target = "" %}
{% endif %}

{% if p.forward %}
{% assign href = p.forward %}
{% else %}
{% assign href = p.url | prepend: site.baseurl  %}
{% endif %}

{% if indexYear != pageYear %}
<time class="mry-2 fs-3 meta fw-200 block">
    {{pageYear}}
    {% assign indexYear = pageYear %}
</time>
{% endif %}

<article class="mry-2">
    {% if p.hero or p.smallhero %}
    <div class="clearfix mry-d2 mrr width-100 height-4 sm:square-4 float-left bg-primary-4">
        <img alt="" src="{%- if p.hero -%}{{p.hero}}{%- else -%}{{p.smallhero}}{%- endif -%}" loading="lazy"
            class="width-100 height-4 sm:square-4 fit-cover" />
    </div>
    {% endif %}

    {% if p.title and p.title != "notitle" and p.notitle != true %}
    <h2 class="mry-0">
        <a href="{{p.url}}">{{ p.title }}</a>
    </h2>
    {% endif %}

    <p class="inline">
        {% if p.abstract %}
        {{ p.abstract }}
        {% else %}
        {{ p.excerpt | strip_html | truncatewords:25, "&nbsp;…"  }}
        {% endif %}
        {% if p.title == nil or p.title == "notitle" or p.notitle == true %}
        <a class="small meta inline-block" href="{{p.url}}">Read the entire article →</a>
        {% endif %}
    </p>

    <aside class="small meta inline">
        {% include author-and-date.html author=p.author date=p.date %}
    </aside>


</article>

{% break %}
{% endif %}
{% endfor %}
{% endfor %}