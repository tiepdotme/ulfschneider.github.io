<!DOCTYPE html>
<html>

 {% include head.html %}

 <body class="gallery">

		<div class="for-gallery">
   	{% include header.html %}
		</div>
				
   <div id="pageContent" class="gallery-content for-gallery">
				<div class="wrapper">
					{% include title.html %}
					{{ content }}

					<a id="slides" style="cursor:pointer;" onclick="displaySlides();">slide view ></a>
					
				</div>
		
				<ul class="image-grid" id="image-grid">
				{% for tag in page.tags %}
					
					{% for post in site.tags.[tag] %}
						
						{% if post.layout contains 'image' and post.thumburl %}

							<a  href="{{ post.url | prepend: site.baseurl }}">
								<li class="image-grid">
									<div class="image">
										<img src="{{post.thumburl | prepend: site.baseurl}}"/>
										{% if post.message %}
											<div class="title">{{post.message}}</div>
										{% elsif post.abstract %}										
											<div class="title">{{post.abstract}}</div>
										{% elsif post.title %}
											<div class="title">{{post.title}}</div>
										{% endif %}
									</div>
								</li>
							</a>
						{% endif %}
					{% endfor %}
				{% endfor %}
			</ul>									
		</div>
		
		<div style="display:none;" class="wrapper for-slides">
		<a id="gallery" style="cursor:pointer;" onclick="displayGallery();">< gallery view</a>		
			{% include slides.html %}
		</div>			

	</div>
	
		
<script src="/r/packery.pkgd.min.js"></script>
<script>

$('.for-slides').hide();

container = select('#image-grid');
pckry = new Packery(container, { itemSelector: 'li',  gutter: 0,  percentPosition: true	});	setInterval(function() {	 pckry.layout(); }, 500);

function displayGallery() {
	$('.for-slides').fadeOut(); 
	$('.for-gallery').delay(500).fadeIn(); 
}

function displaySlides() {
	$('.for-gallery').fadeOut();
	$('.for-slides').delay(500).fadeIn(); 
}


				
</script>		
								
 </body>

</html>